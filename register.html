
<!DOCTYPE html>
<html>
<head>
	<title>FUBA - Register now for more AWSMNSS</title>
	<link rel="stylesheet" href="register.css">

</head>
<body>

	<a class="title_link" href="http://127.0.0.1:8050/index.html"><h1>FUBA - the new StackOverflow!!!</h1></a>


<!-- This Script takes care of the top-box on /register, where the user can see as who he's logged in, log out and go back to the Start Page. It was supposed to hold more information about the user once we have implemented them. However, we couldn't find the time to implement those.-->
<div id="stupid_msg"></div>
<script id="stupid_area" type="text/x-handlebars-template">
	<p>Hey there, you are already logged in as <span style="font-weight:bold;" class="username"></span>. </br>
	However, as we are totally cool with you having multiple accounts,</br>
	you can register twice. (...or thrice, or twenty times or heck, do it all day!)</br>
	</br>
	BUT, as we just learned our backend (err, sorry - baqend) doesn&apos;t like you registering when you&apos;re already logged in, you need to
	logout first : </p> 
	<form id="logout_form" onsubmit="return Logout();">
  <button type="submit" id="logout_button">Ausloggen</button>
</form>
<p> ...or</p>
<a href="http://127.0.0.1:8050/index.html" style="color:#560000;">
	Go back to the Start Page if you like.
	</a>
</script>


<div id="register_form">
<form id="register" onsubmit="return Register();">
	<label class="reg_label">
		Benutzername: 		
	</label>
	<input required type="text" placeholder:"Name" id="reg_name">
	<label class="reg_label">
		Passwort:
	</label>
	<input required type="password" placeholder:"Passwort" id="reg_pass">	
	<label class="reg_label">
		Passwort erneut eingeben:
	</label>
	<input required type="password" placeholder:"Passwort" id="reg_pass_2">	
	<button type="submit">
		Registrieren
	</button>
</form>
</div>


	<script type="text/javascript" src="http://baqend.com/js-sdk/0.9.6/baqend.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script type="text/javascript" src="libs/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.0/handlebars.min.js"></script>
	<script type="text/javascript" src="connect.js"></script>
	<script type="text/javascript" src="register.js"></script>
</body>

<script type="text/javascript">

	/*
		Register registers a user. It gets all the necessary data via JQuery from the Input-Fields and before sending the data to the database it checks if the password is the same in both fields. However, we are still missing a bit of validation : If the user tries to register with an already registered username, nothing will happen ; and if the user doesn't type the password correct both times, nothing will happen either. So, in terms of functionality it works, but in terms of validity and userfriendliness it's a mess.
	*/
	function Register(){

		var_user = $('#reg_name').val();
		var_pass = $('#reg_pass').val();
		var_pass_2 = $('#reg_pass_2').val();
		if (var_pass == var_pass_2)
		RegisterController.register(var_user,var_pass);
		return false;
	}
    function Logout(){
      RegisterController.logout();
    }


</script>

</html>